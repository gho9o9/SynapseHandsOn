
---
# **4. ハンズオンの概要とハンズオンリソースの準備**  

第5章～第9章では第2章～第3章で学んだ基礎知識を踏まえて、実際のユースケースに対する Azure Synapse Analytics (Synapse) の機能に Step-by-Step のハンズオンを行います。  
本章ではハンズオンに先立ち第5章～第9章のハンズオンの概要説明とハンズオンに必要となるリソースの準備を行います。

---
## **4-1. ハンズオンの概要**

ここでは第5章～第9章のハンズオンの概要を説明します。
第6章のみ第5章のハンズオンを前提にしていますが、それ以外の章は単独でハンズオン可能になっているため、興味のあるハンズオンを個別に試していただくことができる構成になっています。

### **4-1-1. Azure における Data Analytics Platform 全体アーキテクチャ**

***TODO: なんか書く***

![](https://o9o9storageshare.blob.core.windows.net/share/synapse_tech_book/images/SynapseTechBook_2022-01-13-13-14-52.png)

### **4-1-2. 各章の解説**

***MEMO: ここでは具体的なシナリオには触れず何をやるかを簡単に説明する。***

- **第5章：データの統合と可視化**  
  外部データソースとの多様なコネクタを持つ Synapse Pipeline を利用してサイロ化されたデータをデータレイクへ統合します。統合したデータは Synapse Dataflow による加工処理を通じ整形済みデータとして Synapse Dedicated に格納します。最後にデータ活用の典型例として、Power BI と連携し整形済みデータの可視化を行います。  

  ![](https://o9o9storageshare.blob.core.windows.net/share/synapse_tech_book/images/SynapseTechBook_2022-01-13-14-53-38.png)

- **第6章：アドホックデータ探索**  
  Synapse が持つ多様なクエリエンジンである Synapse Spark や Synapse Serverless を利用してデータレイク上のデータに対するアドホック探索を行います。また、Azure Purview (Purview) を利用して探索対象となるデータ資産の検索についても触れていきます。

  ![](https://o9o9storageshare.blob.core.windows.net/share/synapse_tech_book/images/SynapseTechBook_2022-01-13-13-19-58.png)

- **第7章：データプレパレーションと機械学習**  
  Synapse が持つクエリエンジンを利用したデータプレパレーションと該当データによる機械学習を行います。ここでは2つのシナリオに触れていきます。ひとつは Azure Machine Learning (AML) と連携した自動機械学習によるオリジナルモデルの構築とそれを利用した推論を行います。もうひとつは Azure Cognitive Services (ACS) と連携し構築済みモデルを利用した推論を行います。

  ![](https://o9o9storageshare.blob.core.windows.net/share/synapse_tech_book/images/SynapseTechBook_2022-01-13-13-20-16.png)

  ![](https://o9o9storageshare.blob.core.windows.net/share/synapse_tech_book/images/SynapseTechBook_2022-01-13-13-20-25.png)

- **第8章：リアルタイムデータ分析**  
  第5章～第7章のようなバッチ処理ではなくリアルタイム処理によるデータ分析を行います。ここでは2つのシナリオに触れていきます。ひとつは Azure Stream Analytics (ASA) と連携してストリームデータをリアルタイムに分析します。もうひとつは Synapse Link 機能による Azure Cosmos DB (Cosmos) 連携によりトランザクションデータをリアルタイムに分析します。

  ***TODO: アーキ図挿入***

- **第9章：データ蓄積**（***TODO: 9章はメッセージとして重要だがハンズオンまでは不要かも。サンプルへのリンクだけの紹介とかでもいいかも***）
  - メッセージ：Synapse は データウェアハウス と レイクハウス（データレイク＋アドホッククエリエンジン）の両シナリオに対応（Snowflakeは前者のみ、Databricksは後者のみ）  
    - データウェアハウス：プロビジョニング型（Serverlessと比較すると予測可能な性能）、枯れた技術で機能がリッチ(***スケーラビリティの観点で強化予定あり。Snowflake相当のマルチクラスタ対応***）  
    - レイクハウス：アドホック型でコストメリット、最低限のものはそろってきたけどセキュリティ機能は弱い。  
  - 実感体験として  
    - Synapse Dedicatedによるデータウェアハウスのリッチなセキュリティ機能の体験  
    - Purviewによるレイクハウスのセキュリティ補強の体験  
  - おまけ  
    - Synapse ケーパビリティの網羅の観点でKustoエンジン紹介

  ***TODO: アーキ図挿入***

---
## **4-2. ハンズオンリソースの準備**  

ここでは第5章～第9章のハンズオンで必要となる以下のリソースの準備を行います。

| リソース                 | URL   |
| :----                    | :---- |
| Azure Synapse Analytics  | https://azure.microsoft.com/ja-jp/services/synapse-analytics/ |
| Azure Data Lake Storage  | https://azure.microsoft.com/ja-jp/services/storage/data-lake-storage/ |
| Azure Blob Storage       | https://azure.microsoft.com/ja-jp/services/storage/blobs/ |
| Azure SQL Database       | https://azure.microsoft.com/ja-jp/products/azure-sql/database/ |
| Azure Purview            | https://azure.microsoft.com/ja-jp/services/purview/ |
| Azure Machine Learning   | https://azure.microsoft.com/ja-jp/services/machine-learning/ |
| Azure Cognitive Services | https://azure.microsoft.com/ja-jp/services/cognitive-services/ |
| Azure Stream Analytics   | https://azure.microsoft.com/ja-jp/services/stream-analytics/ |
| Azure IoT Hub            | https://azure.microsoft.com/ja-jp/services/iot-hub/ |
| Azure Cosmos DB          | https://azure.microsoft.com/ja-jp/services/cosmos-db/ |
| Powewr BI                | https://powerbi.microsoft.com/ja-jp/ |


各章ごとに利用するリソースは下表の通りです。お試しするハンズオンの章に必要となるリソースのみを準備いただくことも可能です。

| リソース                 | 第5章 | 第6章 | 第7章 | 第8章 | 第9章 |
| :----                    | :---: | :---: | :---: | :---: | :---: |
| Azure Synapse Analytics  | ○    | ○    | ○    | ○    | ○    |
| Azure Data Lake Storage  | ○    | ○    | ○    | ○    | ○    |
| Azure Blob Storage       | ○    | －    | －    | －    | －    |
| Azure SQL Database       | ○    | －    | －    | －    | －    |
| Azure Purview            | －    | ○    | －    | －    | －    |
| Azure Machine Learning   | －    | －    | ○    | －    | －    |
| Azure Cognitive Services | －    | －    | ○    | －    | －    |
| Azure Stream Analytics   | －    | －    | ○    | ○    | －    |
| Azure IoT Hub            | －    | －    | ○    | ○    | －    |
| Azure Cosmos DB          | －    | －    | －    | ○    | －    |
| Powewr BI                | ○    | －    | －    | ○    | －    |


***TODO: ↑費用についての言及***

***TODO: ↓デプロイ手順あとで書く***

### **4-2-1. Azure Data Lake Storage のデプロイ**  
### **4-2-2. Azure Synapse Analytics のデプロイ**  
### **4-2-3. Azure Blob Storage のデプロイ**  
### **4-2-4. Azure SQL Database のデプロイ**  
### **4-2-5. Power BI 試用版の準備**  
### **4-2-6. Azure Purview のデプロイ**  
### **4-2-7. Azure Machine Learning のデプロイ**  
### **4-2-8. Azure Cognitive Services のデプロイ**  
### **4-2-9. Azure Stream Analytics のデプロイ**  
### **4-2-10. Azure Azure IoT Hub のデプロイ**  
### **4-2-11. Azure Azure Cosmos DB のデプロイ**
