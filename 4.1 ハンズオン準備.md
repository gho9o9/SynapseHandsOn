- 流れ
  - Github ダウンロード
  - スキーマ＆データセットアップ
    - Blob：Portalからデータファイル(ディレクトリ構造済み)をアップロード
    - SQLDB：INSERT or ARM deployの中でbacpacインポート（bacpac置き場のBlobが必要）
		
- 5章、6章
  - サービス
    - Synapse
    - SQLDB
    - Blob
  - スキーマ
    - Blob生データディレクトリ　ADPE2E/source/nyctaxidata
    - ADLS生データディレクトリ　ADPE2E/raw/nyctaxidata-raw
    - SQLDB参照データ　TaxiLocationLookup
    - Dedicated参照テーブル　TaxiLocationLookup
    - Dedicated結果テーブル　TaxiDataSummary
  -  生データ
     -  Blob 生データ
     -  SQLDB参照データ


---
## **事前準備**

1. Azure リソースのデプロイ

   1. Synapse のデプロイ

      1. 検索  
         ![](images/SynapseTechBook_2022-01-24-21-53-26.png)

      2. 作成  
         ![](images/SynapseTechBook_2022-01-24-21-54-34.png)

      3. 基本  
         ![](images/SynapseTechBook_2022-01-24-22-04-17.png)

      4. セキュリティ  
         ![](images/SynapseTechBook_2022-01-24-22-06-05.png)

      5. ネットワーク  
         ![](images/SynapseTechBook_2022-01-24-22-06-42.png)

      6. タグ  
         ![](images/SynapseTechBook_2022-01-24-22-07-13.png)

      7. レビュー＋作成  
         ![](images/SynapseTechBook_2022-01-24-22-08-02.png)
      
   2. その他のAzureリソースのデプロイ  
      
      1. Deploy to Azure ボタンをクリック  

         [![Deploy to Azure](https://aka.ms/deploytoazurebutton)](https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2Fgho9o9%2Fshare%2Fmain%2Ftest%2FazureDeploy.json)

      2. Azure ログイン  

         ![](images/SynapseTechBook_2022-01-24-22-12-41.png)

      3. パラメータ指定  

         ![](images/SynapseTechBook_2022-01-24-22-32-08.png)

      4. 作成  
      
         ![](images/SynapseTechBook_2022-01-24-22-37-52.png)

2. Github(***TODO：アドレス***)からリソース一式をダウンロード   
3. Blob
   1. Portalのデータエクスプローラーからディレクトリ *source/nyctaxidata* を作成
   2. ディレクトリにデータファイル一式 *todo* をアップロード
4. SQLDB：INSERT or ARM deployの中でbacpacインポート（bacpac置き場のBlobが必要）
   1. Portalのクエリエディタからクエリ *todo* を実行


![](images/SynapseTechBook_2022-01-24-16-53-01.png)